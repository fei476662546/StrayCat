<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mapper.PetMapper">
    <select id="getAllPet" resultType="com.entity.Pet">
        select * from pet
    </select>
    <insert id="addPet" parameterType="com.entity.Pet">
        insert into pet (petName,age,sex,pic,petType,remark,state) values (#{petName},#{age},#{sex},#{pic},#{petType},#{remark},#{state})
    </insert>
    <delete id="delPetById" parameterType="int" >
        delete from pet where id=#{id}
    </delete>
    <update id="updatePet" parameterType="com.entity.Pet">
        update pet set petName=#{petName},age=#{age},sex=#{sex},pic=#{pic},state=#{state},petType=#{petType},remark=#{remark} where id=#{id}
    </update>
    <select id="findPetById" parameterType="int" resultType="com.entity.Pet">
        select * from pet where id=#{id}
    </select>
    <select id="findPetByName" parameterType="String" resultType="com.entity.Pet">
        select * from pet where petName=#{petName}
    </select>
    <delete id="deleteBatchPet">
        delete from pet
        <foreach collection="ids" item="id" separator="," open="where id in (" close=")">
            #{id}
        </foreach>
    </delete>
    <!-- 用于分页，每页显示4条数据 -->
    <select id="showlist" parameterType="int" resultType="com.entity.Pet">
   select petName,age,sex,pic,petType,remark,state from pet limit #{index},4
</select>
    <!-- 用于获取总页数 -->
    <select id="pagecount" resultType="int">
  select count(*) from pet
</select>
</mapper>
